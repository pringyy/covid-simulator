(this["webpackJsonpcovid-simulator"]=this["webpackJsonpcovid-simulator"]||[]).push([[0],{34:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(1),s=(a(34),a(6)),r=a(0),i=a.n(r),o=a(43),c=a.n(o),l=a(102),u=a(27),d=a.n(u),h=function(e){var t=e.data,a=e.area,r=e.type,i=function(e){for(var t=[],a=[],n=[],s=0;s<e.length;s++)t.push(e[s].date),"Cases"===r?a.push(e[s].cases.daily):n.push(e[s].deaths.daily);return[t,a,n]}(t),o=Object(s.a)(i,3),c=o[0],l=o[1],u=o[2],h={series:[{name:"Daily "+r,data:"Cases"===r?l.reverse():u.reverse()}],options:{chart:{type:"bar",toolbar:{show:!1},zoom:{enabled:!1}},plotOptions:{bar:{horizontal:!1}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:c.reverse(),type:"datetime",labels:{format:"MMM yy",minHeight:50,maxHeight:100},title:{text:"Date"}},yaxis:{title:{text:"Number of "+r}},fill:{opacity:1},title:{text:"Daily COVID-19 "+r+" in "+a,align:"center"},tooltip:{y:{formatter:function(e){return e+" "+r}}}}};return Object(n.jsx)(n.Fragment,{children:h.series[0].data.every((function(e){return null===e}))?Object(n.jsxs)("p",{children:["No daily data available for ",r.toLowerCase()," in ",a,"."]}):Object(n.jsx)(d.a,{options:h.options,series:h.series,type:"bar",height:350,width:350})})},j=function(e){var t=e.data,a=e.area,r=e.type,i=function(e){for(var t=[],a=[],n=[],s=0;s<e.length;s++)t.push(e[s].date),"Cases"===r?a.push(e[s].cases.cumulative):n.push(e[s].deaths.cumulative);return[t,a,n]}(t),o=Object(s.a)(i,3),c=o[0],l=o[1],u=o[2],h={series:[{name:"Cumulative "+r,data:"Cases"===r?l.reverse():u.reverse()}],options:{chart:{type:"line",toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{categories:c.reverse(),type:"datetime",labels:{format:"MMM yy",minHeight:50,maxHeight:100},title:{text:"Date"}},yaxis:{title:{text:"Number of "+r}},fill:{opacity:1},title:{text:"Cumulative COVID-19 "+r+" in "+a,align:"center"},tooltip:{y:{formatter:function(e){return e+" "+r}}}}};return Object(n.jsx)(n.Fragment,{children:h.series[0].data.every((function(e){return null===e}))?Object(n.jsxs)("p",{children:["No cumulative data available for ",r.toLowerCase()," in ",a,"."]}):Object(n.jsx)(d.a,{options:h.options,series:h.series,type:"line",height:350,width:700})})},p=function(e){var t=e.area,a=Object(r.useState)({}),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(r.useState)(!1),p=Object(s.a)(d,2),b=p[0],m=p[1],f="https://api.coronavirus.data.gov.uk/v1/data?"+"filters=areaType=ltla;areaName=".concat(t,"&")+'structure={"date":"date","name":"areaName","code":"areaCode","cases":{"daily":"newCasesBySpecimenDate","cumulative":"cumCasesBySpecimenDateRate"},"deaths":{"daily":"newDeathsByDeathDate","cumulative":"cumDeathsByDeathDate"},"covidOccupiedMVBeds":"covidOccupiedMVBeds"}';return Object(r.useEffect)((function(){c.a.get(f).then((function(e){console.log(e.data.data),u(e.data.data),m(!0)})).catch((function(e){return console.log(e)}))}),[]),Object(n.jsx)(n.Fragment,{children:b?Object(n.jsxs)(l.a,{container:!0,spacing:1,children:[Object(n.jsx)(h,{data:o,area:t,type:"Cases"}),Object(n.jsx)(j,{data:o,area:t,type:"Cases"}),Object(n.jsx)(h,{data:o,area:t,type:"Deaths"}),Object(n.jsx)(j,{data:o,area:t,type:"Deaths"})]}):Object(n.jsx)("p",{children:"loading..."})})},b=a(50),m=a(22),f=function(e){var t=e.setTooltipContent,a=e.areas,s=e.setAreas;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(m.ComposableMap,{"data-tip":"Select County",style:{height:"100%",width:"100%"},children:Object(n.jsx)(m.ZoomableGroup,{zoom:30,minZoom:30,maxZoom:100,center:[-2,55],children:Object(n.jsx)(m.Geographies,{geography:"https://raw.githubusercontent.com/martinjc/UK-GeoJSON/master/json/administrative/gb/topo_lad.json",children:function(e){return e.geographies.map((function(e){return Object(n.jsx)(m.Geography,{geography:e,onMouseEnter:function(){t(e.properties.LAD13NM)},onMouseLeave:function(){t("")},onClick:function(){s([].concat(Object(b.a)(a),[e.properties.LAD13NM]))},style:{default:{fill:"29a19c",outline:"none",strokeWidth:.01,stroke:"#27323a"},hover:{fill:"a3f7bf",outline:"none"},pressed:{fill:"#FFF",outline:"none"}}},e.rsmKey)}))}})})})})},y=Object(r.memo)(f),O=a(49),x=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),a=t[0],i=t[1],o=Object(r.useState)(""),c=Object(s.a)(o,2),u=c[0],d=c[1];return Object(n.jsxs)(l.a,{container:!0,spacing:1,children:[Object(n.jsxs)(l.a,{item:!0,xs:12,sm:12,md:6,style:{height:"100vh"},children:[Object(n.jsx)(y,{setTooltipContent:d,setAreas:function(e){return i(e)},areas:a}),Object(n.jsx)(O.a,{children:u})]}),Object(n.jsx)(l.a,{item:!0,xs:12,sm:12,md:6,children:a.map((function(e){return Object(n.jsx)(p,{area:e})}))})]})},g=a(48),v=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,103)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))};a.n(g).a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(x,{})}),document.getElementById("root")),v()}},[[87,1,2]]]);
//# sourceMappingURL=main.a8c5a93b.chunk.js.map